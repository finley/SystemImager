<?xml version='1.0' standalone='yes'?>
<!--

********************************* WARNING **************************************

This file has been generated by si_clusterconfig(8), do not edit manually!

********************************* WARNING **************************************

	This is the main configuration file to describe the topology of
	your clients and your image server informations.

	This file will be used by all the SystemImager commands to identify the
	logical groups of your clients and their specific configurations.

        See comments below for more details.
-->
<xml>
	<!-- The image server hostname. -->
	<master>master1</master>

	<!--
		This is the global name:  this name will be used to identify
		all the hosts defined in this file (the global supergroup).

		IMPORTANT: this is a mandatory entry!!!
	-->
	<name>all</name>

	<!--
		This is the global override: all the files stored in this
		overrides will be pushed to all the clients.

		IMPORTANT: this is a mandatory entry!!! If you don't want to use
		it do not create the global override in
		/var/lib/systemimager/overrides/

		Multiple overrides can be specified as a list of multiple XML tags:

		<override>OVERRIDE_NAME_1</override>
		<override>OVERRIDE_NAME_2</override>
		...
		<override>OVERRIDE_NAME_N</override>

		The OVERRIDE_NAME_1 ... OVERRIDE_NAME_N will be distributed
		preserving the same order as they appear in the XML file. This
		means that in case of file overlaps (more files in multiple
		overrides that should be distributed to the same target
		filename) the first hit wins. In this case OVERRIDE_NAME_1 is
		the most important and OVERRIDE_NAME_N is the least important.
	-->
	<override>all</override>

	<!--
		Following there is an example of a "fake" group. The group
		name is "Local", it uses the image "Local", the override in
		/var/lib/systemimager/overrides/Local and it contains only
		the localhost server. Totally useless, but it's there to
		explain how it works... ;-)
	-->
	<group>
		<name>Local</name>
		<image>Local</image>
		<override>Local</override>
		<node>localhost</node>
	</group>

	<!--
		This is a group that contains two nodes: node001 and
		node002. The group is called "Login" and it uses the
		override:

		The clients node001 and node002 will be auto-installed using the
		image:

		/var/lib/systemimager/images/SuSE10

		And the override:

		/var/lib/systemimager/overrides/SuSE10_frontend

		After the initial installation it will be possible to keep in
		sync the common files for the Login group creating them into the
		"SuSE10_frontend" override and using the command
		si_pushoverride(8).

		It will be even possible to define host-only files creating an
		override using the hostname of the target client. For example
		all the files in /var/lib/systemimager/overrides/node001 will be
		distributed only to node001 (and in case of overlaps these files
		will replace the files that come from the group override and
		from the global override).
	-->
	<group>
		<name>Login</name>
		<!--
			If a client belongs to multiple groups, the group with
			the higher priority will be used to choose the image
			for that client; for the overrides the groups will be
			sorted by group priority: in case of file overlaps
			first hit wins.

			In this example node001, that belongs to the group
			Login and Storage, will be auto-installed with the
			image SuSE10 and it'll receive the overrides in the
			following order (remember that in case of file overlaps
			first hit wins):

			  SuSE10_frontend, SuSE10, Storage

		-->
		<priority>10</priority>
		<image>SuSE10</image>
		<!--
			Also a group can have multiple overrides. The same
			rules for multiple values of the global overrides are
			valid also here.
		-->
		<override>SuSE10_frontend</override>
		<override>SuSE10</override>
		<node>node001,node002</node>
	</group>

	<!--
		Another example. The group Storage contains 16 nodes (from
		node1293 up to node1308). They will be auto-installed using the
		image:

		/var/lib/systemimager/images/RHEL4

		And the override:

		/var/lib/systemimager/overrides/Storage

		In general the best practice is to use the same name for the
		override and the group name (like this group). 
	-->
	<group>
		<name>Storage</name>
		<priority>20</priority>
		<image>RHEL4</image>
		<override>Storage</override>
		<node>node001,node1293-node1308</node>
	</group>

	<!--
		Define your custom groups below (and remember to remove
		or comment the previous entries if you don't want to use
		them).

		...
	-->

</xml>
